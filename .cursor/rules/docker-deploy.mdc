---
description: 
globs: 
alwaysApply: false
---
---
# Maintainer: @devops
description: Containerisation & process management.  Pulled in when agent discusses Docker or deployment topics.
---

- Base image: `python:3.12-slim` + `uv` install.
- Copy in `pyproject.toml` â†’ run `uv pip install -r <(uv pip compile --quiet)`.
- Non-root user `app` (UID **10001 - adjust if conflict with org standard**).
- Entrypoint: `uvicorn app.main:app --workers $(nproc) --host 0.0.0.0 --port 8000`.
- Multi-stage builds for GPU images (nvidia-runtime).
- Compose: place dev + prod overrides under `docker/compose.*.yaml`.
- Production process manager: `systemd` or `supervisor` inside host; containers remain single-process.